(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[261],{2383:function(e,s,t){Promise.resolve().then(t.bind(t,8080))},8080:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return o}});var a=t(7437),l=t(2265),n=t(732),i=t(6264),r=t(5671),c=t(8339),d=t(2741);function o(){let[e,s]=(0,l.useState)(!0),[t,o]=(0,l.useState)(null),[m,x]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=new URLSearchParams(window.location.search).get("url");e?(x(e),s(!1)):window.location.href="api/room"},[]);let h=async()=>{try{window.location.href="/api/room/delete"}catch(e){console.error("Failed to end call:",e)}},u=e=>{let{children:s}=e;return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden text-white",children:[(0,a.jsxs)("div",{className:"absolute inset-0 overflow-hidden z-0",children:[(0,a.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"}),(0,a.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-cyan-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"}),(0,a.jsx)("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"})]}),(0,a.jsx)("div",{className:"relative z-10",children:s})]})};return e?(0,a.jsx)(u,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[(0,a.jsx)(i.Z,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-emerald-400"}),(0,a.jsx)("h2",{className:"text-2xl font-semibold mb-2",children:"Setting up your session..."}),(0,a.jsx)("p",{className:"text-gray-400",children:"This may take a moment"})]})})}):t?(0,a.jsx)(u,{children:(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl shadow-xl p-6 max-w-md w-full",children:[(0,a.jsxs)("div",{className:"flex items-center text-red-400 mb-4",children:[(0,a.jsx)(r.Z,{className:"h-6 w-6 mr-2"}),(0,a.jsx)("h2",{className:"text-xl font-semibold",children:"Connection Error"})]}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:t}),(0,a.jsx)("button",{onClick:()=>window.location.href="api/room",className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 rounded-lg font-medium transition",children:"Try Again"})]})})}):(0,a.jsxs)(u,{children:[(0,a.jsx)("div",{className:"container mx-auto px-4 py-10",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c.Z,{className:"h-8 w-8 text-emerald-400 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"AI Therapy Session"}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:"Connected and ready"})]})]}),(0,a.jsxs)("button",{onClick:h,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center font-medium transition",children:[(0,a.jsx)(r.Z,{className:"h-4 w-4 mr-2"}),"End Call"]})]}),(0,a.jsx)("div",{className:"bg-gray-800 border border-gray-700 rounded-xl overflow-hidden shadow-lg",children:(0,a.jsxs)("div",{className:"relative w-full h-[600px] bg-black rounded-lg overflow-hidden",children:[m&&(0,a.jsx)("iframe",{src:m,className:"w-full h-full border-0",allow:"camera; microphone; display-capture"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-900/90 flex items-center justify-center transition-opacity duration-500",id:"loading-overlay",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(i.Z,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-emerald-400"}),(0,a.jsx)("p",{className:"text-lg",children:"Connecting to your therapist..."}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-2",children:"This may take a few seconds"})]})})]})}),(0,a.jsx)("div",{className:"mt-8 bg-gray-800/70 border border-gray-700 rounded-xl shadow-md p-6",children:(0,a.jsx)("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[{icon:(0,a.jsx)(c.Z,{className:"h-6 w-6 text-blue-400"}),title:"Camera & Mic",desc:"Allow access when prompted for the best experience",bg:"bg-blue-600/20"},{icon:(0,a.jsx)(d.Z,{className:"h-6 w-6 text-green-400"}),title:"Speak Freely",desc:"Share what’s on your mind in this safe space",bg:"bg-green-600/20"},{icon:(0,a.jsx)(r.Z,{className:"h-6 w-6 text-purple-400"}),title:"End Anytime",desc:"You can leave the session whenever you’re ready",bg:"bg-purple-600/20"}].map((e,s)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"w-12 h-12 ".concat(e.bg," rounded-full flex items-center justify-center mx-auto mb-3"),children:e.icon}),(0,a.jsx)("h4",{className:"font-semibold mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-400",children:e.desc})]},s))})})]})}),(0,a.jsx)("script",{dangerouslySetInnerHTML:{__html:"\n            window.addEventListener('load', function() {\n              setTimeout(function() {\n                const overlay = document.getElementById('loading-overlay');\n                if (overlay) {\n                  overlay.style.opacity = '0';\n                  setTimeout(() => overlay.remove(), 500);\n                }\n              }, 2000);\n            });\n          "}})]})}}},function(e){e.O(0,[132,971,938,744],function(){return e(e.s=2383)}),_N_E=e.O()}]);